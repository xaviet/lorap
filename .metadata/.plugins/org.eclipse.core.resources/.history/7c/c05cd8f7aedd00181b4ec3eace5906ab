/*
 * hw_config.h
 *
 *  Created on: Nov 1, 2018
 *      Author: mose
 */

#ifndef HW_CONFIG_H_
#define HW_CONFIG_H_

#include "stm32f10x.h"

//|--------------|
//|  0x8003ffff  |
//|              |  upgrade prog (120K Bytes)
//|  0x08022000  |
//|--------------|
//|  0x08021fff  |
//|              |  app prog (120K Bytes)
//|  0x08004000  |
//|--------------|
//|  0x08003fff  |
//|              |  env data (2K Bytes)
//|  0x08003800  |
//|--------------|
//|  0x080037ff  |
//|              |  bootloader (14K Bytes)
//|  0x08000000  |
//----------------
#define FLASH_START_ADDR ((u32)0x08000000)
#define FLASH_SECTOR_NUM 128
#define FLASH_SECTOR_SIZE 2048
#define FLASH_END_ADDR ((u32)(FLASH_START_ADDR + FLASH_SECTOR_NUM * FLASH_SECTOR_SIZE))

#define UPGRADE_PROG_ADDRESS ((void*)0x08022000)
#define APP_PROG_ADDRESS ((void*)0x08004000)
#define UPGRADE_PROG_SIZE ((u32)(120 * FLASH_SECTOR_SIZE))

#define ENV_DATA_ADDRESS ((void*)0x08022000)
#define ENV_DATA_SIZE ((u32)(1 * FLASH_SECTOR_SIZE))

#define USART_DEBUG USART1
#define USART_GPIO GPIOA
#define USART_TX GPIO_Pin_9
#define USART_RX GPIO_Pin_10
#define USART_SPEED 115200
#define USART_IRQ USART1_IRQn

#endif /* HW_CONFIG_H_ */
